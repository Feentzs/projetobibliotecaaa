<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Painel Administrativo â€” BiblioTec</title>
    <link rel="icon" href="images/logosemtxt.svg">
    <link rel="stylesheet" href="css/admin.css" />
    </head>
  <body class="admin-body">
    <div class="admin-wrapper">
      
      <aside class="admin-sidebar" id="adminSidebar">
        <div class="sidebar-header">
          <img src="images/logo-light.svg" alt="BiblioTec" class="sidebar-logo">
          <button class="sidebar-toggle-btn" id="sidebarToggleBtn" title="Menu">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M4 6H20M4 12H20M4 18H20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </button>
        </div>

        <nav class="sidebar-nav">
          <button class="sidebar-item active" data-tab="dashboard">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
            </svg>
            <span>Dashboard</span>
          </button>
          
          <button class="sidebar-item" data-tab="books">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" stroke-linecap="round"/>
              <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Acervo</span>
          </button>
          
          <button class="sidebar-item" data-tab="users">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" stroke-linecap="round"/>
              <circle cx="9" cy="7" r="4" />
              <path d="M23 21v-2a4 4 0 0 0-3-3.87" stroke-linecap="round"/>
              <path d="M16 3.13a4 4 0 0 1 0 7.75" stroke-linecap="round"/>
            </svg>
            <span>UsuÃ¡rios</span>
          </button>
          
          <button class="sidebar-item" data-tab="reservations">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="4" width="18" height="18" rx="2" />
              <path d="M16 2v4M8 2v4M3 10h18" stroke-linecap="round"/>
            </svg>
            <span>Reservas</span>
          </button>
        </nav>

        <div class="sidebar-footer">
          <button class="sidebar-theme-btn" id="themeToggleAdmin" title="Tema">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="5"/>
              <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
            </svg>
          </button>
          <a href="home.html" class="sidebar-logout-btn" title="Sair">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" stroke-linecap="round"/>
              <path d="M16 17l5-5-5-5" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M21 12H9" stroke-linecap="round"/>
            </svg>
          </a>
        </div>
      </aside>

      <main class="admin-main">
        
        <section class="admin-tab-content active" id="dashboard-tab">
          <div class="content-header">
            <div>
              <h1>VisÃ£o Geral</h1>
              <p class="content-subtitle">Bem-vindo de volta, Administrador.</p>
            </div>
            </div>

          <div class="dashboard-hero">
            <div class="hero-card">
              <div class="hero-icon">ðŸ“š</div>
              <div class="hero-content">
                <h3>Total de Livros</h3>
                <p class="hero-value" id="totalBooksValue">0</p>
              </div>
            </div>
            <div class="hero-card">
              <div class="hero-icon">ðŸ‘¥</div>
              <div class="hero-content">
                <h3>UsuÃ¡rios Ativos</h3>
                <p class="hero-value" id="totalUsersValue">0</p>
              </div>
            </div>
            <div class="hero-card">
              <div class="hero-icon">ðŸ“…</div>
              <div class="hero-content">
                <h3>Reservas (Semana)</h3>
                <p class="hero-value" id="weekReservationsValue">0</p>
              </div>
            </div>
            <div class="hero-card">
              <div class="hero-icon">ðŸ”¥</div>
              <div class="hero-content">
                <h3>Em Alta</h3>
                <p class="hero-value" id="topBookValue" style="font-size: 1.25rem;">â€”</p>
              </div>
            </div>
          </div>

          <div class="dashboard-grid">
            <div class="dashboard-card">
              <h3>Fluxo de Reservas</h3>
              <canvas id="reservationsChart" class="chart-canvas"></canvas>
            </div>
            <div class="dashboard-card">
              <h3>Top 5 Mais Lidos</h3>
              <canvas id="topBooksChart" class="chart-canvas"></canvas>
            </div>
          </div>
        </section>

        <section class="admin-tab-content" id="books-tab">
          <div class="content-header">
            <div>
              <h1>Acervo</h1>
              <p class="content-subtitle">Gerencie o catÃ¡logo da biblioteca</p>
            </div>
            <button id="btnAddBook" class="btn btn-primary">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="12" y1="5" x2="12" y2="19"></line>
                  <line x1="5" y1="12" x2="19" y2="12"></line>
              </svg>
              Novo Livro
            </button>
          </div>
          
          <div class="search-bar">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8"></circle>
              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
            <input type="text" id="bookSearchInput" placeholder="Pesquisar por tÃ­tulo, autor..." />
          </div>

          <div class="books-list" id="booksList"></div>
        </section>

        <section class="admin-tab-content" id="users-tab">
          <div class="content-header">
            <div>
              <h1>UsuÃ¡rios</h1>
              <p class="content-subtitle">Controle de membros e permissÃµes</p>
            </div>
            <button id="btnAddUser" class="btn btn-primary">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="12" y1="5" x2="12" y2="19"></line>
                  <line x1="5" y1="12" x2="19" y2="12"></line>
              </svg>
              Adicionar UsuÃ¡rio
            </button>
          </div>

          <div class="search-bar">
             <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8"></circle>
              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
            <input type="text" id="userSearchInput" placeholder="Buscar por nome ou email..." />
          </div>

          <div class="users-list" id="usersList"></div>
        </section>

        <section class="admin-tab-content" id="reservations-tab">
          <div class="content-header">
            <div>
              <h1>Reservas</h1>
              <p class="content-subtitle">Monitoramento de emprÃ©stimos</p>
            </div>
          </div>

          <div class="search-bar">
             <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8"></circle>
              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
            <input type="text" id="reservationSearchInput" placeholder="Filtrar reservas..." />
          </div>

          <div class="reservations-list" id="reservationsList"></div>
        </section>
      </main>
    </div>

    <div id="bookModal" class="modal">
      <div class="modal-overlay"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="bookModalTitle">Novo Livro</h2>
          <button class="modal-close" id="closeBookModal">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="18" y1="6" x2="6" y2="18"></line>
                  <line x1="6" y1="6" x2="18" y2="18"></line>
              </svg>
          </button>
        </div>
        <form id="bookForm" class="admin-form">
          <input type="hidden" id="bookId" name="id">
          
          <div class="form-row">
            <div class="form-group">
              <label for="bookTitle">TÃ­tulo</label>
              <input type="text" id="bookTitle" name="title" required placeholder="Ex: Dom Casmurro" />
            </div>
            <div class="form-group">
              <label for="bookAuthor">Autor</label>
              <input type="text" id="bookAuthor" name="author" required placeholder="Ex: Machado de Assis" />
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="bookGenre">GÃªnero</label>
              <select id="bookGenre" name="genre" required>
                <option value="">Selecione...</option>
                <option value="ClÃ¡ssico">ClÃ¡ssico</option>
                <option value="Romance">Romance</option>
                <option value="FicÃ§Ã£o CientÃ­fica">FicÃ§Ã£o CientÃ­fica</option>
                <option value="Fantasia">Fantasia</option>
                <option value="Suspense">Suspense</option>
                <option value="Biografia">Biografia</option>
                <option value="HistÃ³ria">HistÃ³ria</option>
                <option value="Infantojuvenil">Infantojuvenil</option>
                <option value="Poesia">Poesia</option>
                <option value="Autoajuda">Autoajuda</option>
              </select>
            </div>
            <div class="form-group">
              <label for="bookRating">AvaliaÃ§Ã£o</label>
              <input type="number" id="bookRating" name="rating" min="0" max="5" step="0.1" value="4" required />
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="bookCover">URL da Capa</label>
              <input type="url" id="bookCover" name="cover_url" required placeholder="https://..." />
            </div>
            <div class="form-group">
              <label for="bookPages">PÃ¡ginas</label>
              <input type="number" id="bookPages" name="pages" min="1" />
            </div>
          </div>

          <div class="form-group">
            <label for="bookDescription">Sinopse</label>
            <textarea id="bookDescription" name="description" rows="3"></textarea>
          </div>

          <div class="form-actions">
            <button type="button" class="btn btn-secondary" onclick="closeBookModal()">Cancelar</button>
            <button type="submit" class="btn btn-primary">Salvar</button>
          </div>
        </form>
      </div>
    </div>

    <div id="userModal" class="modal">
      <div class="modal-overlay"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="userModalTitle">Novo UsuÃ¡rio</h2>
          <button class="modal-close" id="closeUserModal">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="18" y1="6" x2="6" y2="18"></line>
                  <line x1="6" y1="6" x2="18" y2="18"></line>
              </svg>
          </button>
        </div>
        <form id="userForm" class="admin-form">
          <input type="hidden" id="userId" name="id">
          
          <div class="form-row">
            <div class="form-group">
              <label for="userName">Nome Completo</label>
              <input type="text" id="userName" name="name" required />
            </div>
            <div class="form-group">
              <label for="userEmail">E-mail</label>
              <input type="email" id="userEmail" name="email" required />
            </div>
          </div>

          <div class="form-group">
            <label for="userPassword">Senha</label>
            <input type="password" id="userPassword" name="password" required />
          </div>

          <div class="form-actions">
            <button type="button" class="btn btn-secondary" onclick="closeUserModal()">Cancelar</button>
            <button type="submit" class="btn btn-primary">Salvar</button>
          </div>
        </form>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script src="test-data.js"></script>
    <script src="js/user-data.js"></script>
    <script src="js/admin.js"></script>
  </body>
</html>